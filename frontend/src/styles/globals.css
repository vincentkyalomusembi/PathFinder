@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* @layer base - Custom vars */
@layer base {
  :root {
    --primary: 37 99 235;
    --secondary: 100 116 139;
    --success: 16 185 129;
    --warning: 245 158 11;
    --error: 239 68 68;
    --background: 248 250 252;
    --surface: 255 255 255;
    --text-primary: 30 41 59;
    --text-secondary: 100 116 139;
    --font-primary: 'Inter', sans-serif;
    --font-mono: 'JetBrains Mono', monospace;
  }

  [data-theme="dark"] {
    --background: 30 41 59;
    --surface: 51 65 85;
    --text-primary: 255 255 255;
    --text-secondary: 148 163 184;
  }

  html { font-family: var(--font-primary); }
  body { 
    @apply bg-background text-text-primary; 
    margin: 0;
    padding: 0;
  }
}

/* @layer components - Custom classes */
@layer components {
  .btn-primary { 
    @apply bg-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50; 
  }
  .card { 
    @apply bg-surface p-6 rounded-xl shadow-sm border border-surface/50 hover:shadow-md transition-all duration-300; 
  }
  .form-input { 
    @apply w-full px-4 py-3 border border-surface/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-transparent transition-all;
    color: rgb(var(--text-primary)); /* Explicit text color */
    background-color: rgb(var(--surface)); /* Explicit bg */
  }
  .form-input::placeholder { /* Fixed: Visible placeholder in light/dark */
    color: rgb(var(--text-secondary) / 0.6);
  }
  .form-input:focus::placeholder {
    color: rgb(var(--text-secondary) / 0.4);
  }
  .form-input.error { 
    @apply border-error; 
    color: rgb(var(--text-primary)); /* Keep text visible on error */
  }
  [data-theme="dark"] .form-input { /* Dark mode fix: Ensure white text on dark bg */
    color: rgb(var(--text-primary)); /* White text */
    background-color: rgb(var(--surface)); /* Dark bg */
  }
  [data-theme="dark"] .form-input::placeholder {
    color: rgb(var(--text-secondary) / 0.6); /* Gray placeholder */
  }
  [data-theme="dark"] .form-input:focus::placeholder {
    color: rgb(var(--text-secondary) / 0.4); /* Faded gray on focus */
  }
  [data-theme="dark"] .form-input.error {
    color: rgb(var(--text-primary)); /* White text on error in dark */
  }
}

/* Custom Animations */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.slide-in-up { animation: slideInUp 0.6s ease-out forwards; }

.text-gradient {
  background: linear-gradient(135deg, rgb(var(--primary)), rgb(var(--secondary)));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.card-hover {
  transition: all 0.3s ease;
}

.card-hover:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
}

/* Responsive */
@media (max-width: 640px) {
  .container { padding: 0 1rem; }
}

@media (min-width: 1024px) {
  .container { max-width: 1200px; }
}

[data-theme="dark"] .card-hover:hover {
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

@media print {
  .no-print { display: none !important; }
  body { background: white; color: black; }
}

::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: rgb(var(--background)); }
::-webkit-scrollbar-thumb { background: rgb(var(--secondary)); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: rgb(var(--primary)); }